(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{251:(e,t,a)=>{"use strict";a.d(t,{O:()=>o});var s=a(2311),r=a(1383),i=a(4225),n=a(2847);function o(e){let{children:t}=e,{user:a,loading:o}=(0,r.A)(),l=(0,i.useRouter)();return((0,n.useEffect)(()=>{},[a,o,l]),o)?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-slate-900"})}):a?(0,s.jsx)(s.Fragment,{children:t}):null}},294:(e,t,a)=>{Promise.resolve().then(a.bind(a,2393))},1383:(e,t,a)=>{"use strict";a.d(t,{A:()=>n,AuthProvider:()=>o});var s=a(2311),r=a(2847);let i=(0,r.createContext)(void 0);function n(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function o(e){let{children:t}=e,[a]=(0,r.useState)({id:"api-user-1",email:"api@namastex.ai"}),[n]=(0,r.useState)({api_key:"namastex888"}),[o]=(0,r.useState)(!1),l=async()=>{window.location.href="/"};return(0,s.jsx)(i.Provider,{value:{user:a,session:n,loading:o,signOut:l},children:t})}},2393:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F});var s=a(2311),r=a(2847),i=a(6084),n=a(1263),o=a(9521),l=a(9137),c=a(3785),d=a(4065),u=a(6252),h=a.n(u),p=a(3788),x=a(5760),m=a(9718),f=a(6398),g=a(6318),j=a(5493),v=a(9508),b=a(8443);let w=j.bL,y=j.l9,N=j.ZL;j.bm;let k=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(j.hJ,{ref:t,className:(0,b.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});k.displayName=j.hJ.displayName;let C=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(N,{children:[(0,s.jsx)(k,{}),(0,s.jsxs)(j.UC,{ref:t,className:(0,b.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:[r,(0,s.jsxs)(j.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(v.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});C.displayName=j.UC.displayName;let E=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,b.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};E.displayName="DialogHeader";let _=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(j.hE,{ref:t,className:(0,b.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});_.displayName=j.hE.displayName;let P=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(j.VY,{ref:t,className:(0,b.cn)("text-sm text-muted-foreground",a),...r})});P.displayName=j.VY.displayName;var T=a(251),A=a(1383),S=a(7316),O=a(7614);function F(){let{user:e}=(0,A.A)(),[t,a]=(0,r.useState)([]),[u,j]=(0,r.useState)(!0),[v,b]=(0,r.useState)(!1),[N,k]=(0,r.useState)({name:"",description:"",repo_url:""});(0,r.useEffect)(()=>{(null==e?void 0:e.id)&&F()},[null==e?void 0:e.id]);let F=async()=>{if(null==e?void 0:e.id)try{j(!0);let t=await S.G.getProjects(e.id);a(t)}catch(e){console.error("Error loading projects:",e)}finally{j(!1)}},z=async t=>{if(t.preventDefault(),null==e?void 0:e.id)try{await S.G.createProject(e.id,{name:N.name,description:N.description,repo_url:N.repo_url}),k({name:"",description:"",repo_url:""}),b(!1),F()}catch(e){console.error("Error creating project:",e),O.oR.error("Error creating project. Please check the GitHub URL format.")}},R=async t=>{if((null==e?void 0:e.id)&&confirm("Are you sure you want to delete this project? This will also delete all associated tasks."))try{await S.G.deleteProject(e.id,t),F()}catch(e){console.error("Error deleting project:",e),O.oR.error("Error deleting project")}};return u?(0,s.jsx)(T.O,{children:(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-slate-900 mx-auto"}),(0,s.jsx)("p",{className:"text-slate-600 mt-2",children:"Loading projects..."})]})})}):(0,s.jsx)(T.O,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[(0,s.jsx)("header",{className:"border-b bg-white/80 backdrop-blur-sm sticky top-0 z-50",children:(0,s.jsx)("div",{className:"container mx-auto px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(h(),{href:"/",className:"text-slate-600 hover:text-slate-900",children:"← Back to Dashboard"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Projects"}),(0,s.jsx)("p",{className:"text-sm text-slate-500",children:"Manage your GitHub repositories and automation tasks"})]})]}),(0,s.jsxs)(w,{open:v,onOpenChange:b,children:[(0,s.jsx)(y,{asChild:!0,children:(0,s.jsxs)(p.$,{className:"gap-2",children:[(0,s.jsx)(i.A,{className:"w-4 h-4"}),"New Project"]})}),(0,s.jsxs)(C,{children:[(0,s.jsxs)(E,{children:[(0,s.jsx)(_,{children:"Create New Project"}),(0,s.jsx)(P,{children:"Add a GitHub repository to start automating with AI"})]}),(0,s.jsxs)("form",{onSubmit:z,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(g.J,{htmlFor:"name",children:"Project Name"}),(0,s.jsx)(x.p,{id:"name",value:N.name,onChange:e=>k(t=>({...t,name:e.target.value})),placeholder:"My Awesome Project",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(g.J,{htmlFor:"repo_url",children:"GitHub Repository URL"}),(0,s.jsx)(x.p,{id:"repo_url",type:"url",value:N.repo_url,onChange:e=>k(t=>({...t,repo_url:e.target.value})),placeholder:"https://github.com/owner/repo",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(g.J,{htmlFor:"description",children:"Description (Optional)"}),(0,s.jsx)(m.T,{id:"description",value:N.description,onChange:e=>k(t=>({...t,description:e.target.value})),placeholder:"Brief description of your project...",rows:3})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(p.$,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Cancel"}),(0,s.jsx)(p.$,{type:"submit",children:"Create Project"})]})]})]})]})]})})}),(0,s.jsx)("main",{className:"container mx-auto px-6 py-8",children:0===t.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(n.A,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No projects yet"}),(0,s.jsx)("p",{className:"text-slate-600 mb-6",children:"Create your first project to start automating with AI"}),(0,s.jsx)(w,{open:v,onOpenChange:b,children:(0,s.jsx)(y,{asChild:!0,children:(0,s.jsxs)(p.$,{size:"lg",className:"gap-2",children:[(0,s.jsx)(i.A,{className:"w-4 h-4"}),"Create Your First Project"]})})})]}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,s.jsxs)(f.Zp,{className:"hover:shadow-lg transition-shadow",children:[(0,s.jsxs)(f.aR,{children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(f.ZB,{className:"text-lg",children:e.name}),(0,s.jsxs)(f.BT,{className:"flex items-center gap-1 mt-1",children:[(0,s.jsx)(n.A,{className:"w-3 h-3"}),e.repo_url.split("/").slice(-2).join("/")]})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(p.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,s.jsx)(h(),{href:"/projects/".concat(e.id),children:(0,s.jsx)(o.A,{className:"w-4 h-4"})})}),(0,s.jsx)(p.$,{variant:"ghost",size:"sm",onClick:()=>R(e.id),className:"text-red-600 hover:text-red-700",children:(0,s.jsx)(l.A,{className:"w-4 h-4"})})]})]}),e.description&&(0,s.jsx)("p",{className:"text-sm text-slate-600 mt-2",children:e.description})]}),(0,s.jsx)(f.Wu,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center",children:[(0,s.jsxs)("div",{className:"p-2 bg-slate-50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-lg font-semibold text-slate-900",children:e.task_count||0}),(0,s.jsx)("div",{className:"text-xs text-slate-500",children:"Total Tasks"})]}),(0,s.jsxs)("div",{className:"p-2 bg-green-50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-lg font-semibold text-green-700",children:e.completed_tasks||0}),(0,s.jsx)("div",{className:"text-xs text-green-600",children:"Completed"})]}),(0,s.jsxs)("div",{className:"p-2 bg-blue-50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-lg font-semibold text-blue-700",children:e.active_tasks||0}),(0,s.jsx)("div",{className:"text-xs text-blue-600",children:"Active"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(p.$,{variant:"outline",size:"sm",className:"flex-1",asChild:!0,children:(0,s.jsxs)(h(),{href:"/projects/".concat(e.id,"/tasks"),children:[(0,s.jsx)(c.A,{className:"w-4 h-4 mr-1"}),"View Tasks"]})}),(0,s.jsx)(p.$,{variant:"outline",size:"sm",asChild:!0,children:(0,s.jsx)("a",{href:e.repo_url,target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)(d.A,{className:"w-4 h-4"})})})]})]})})]},e.id))})})]})})}},3788:(e,t,a)=>{"use strict";a.d(t,{$:()=>l});var s=a(2311);a(2847);var r=a(2638),i=a(2560),n=a(8443);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:a,size:i,asChild:l=!1,...c}=e,d=l?r.DX:"button";return(0,s.jsx)(d,{"data-slot":"button",className:(0,n.cn)(o({variant:a,size:i,className:t})),...c})}},5760:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var s=a(2311);a(2847);var r=a(8443);function i(e){let{className:t,type:a,...i}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}},6318:(e,t,a)=>{"use strict";a.d(t,{J:()=>n});var s=a(2311);a(2847);var r=a(1025),i=a(8443);function n(e){let{className:t,...a}=e;return(0,s.jsx)(r.b,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},6398:(e,t,a)=>{"use strict";a.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>o,Zp:()=>i,aR:()=>n});var s=a(2311);a(2847);var r=a(8443);function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function n(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...a})}function l(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...a})}function c(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...a})}},7316:(e,t,a)=>{"use strict";a.d(t,{G:()=>i});let s="localhost"===window.location.hostname?"http://localhost:28881/api/v1":"/api/v1";function r(e){return{"x-api-key":"namastex888","x-user-id":e}}class i{static async getProjects(e){let t=await fetch("".concat(s,"/projects"),{headers:{"x-api-key":"namastex888"}});if(!t.ok)throw Error("Failed to fetch projects");return(await t.json()).projects||[]}static async createProject(e,t){let a=await fetch("".concat(s,"/projects"),{method:"POST",headers:{"Content-Type":"application/json",...r(e)},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to create project");return(await a.json()).project}static async updateProject(e,t,a){let i=await fetch("".concat(s,"/projects/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json",...r(e)},body:JSON.stringify(a)});if(!i.ok)throw Error("Failed to update project");return(await i.json()).project}static async deleteProject(e,t){if(!(await fetch("".concat(s,"/projects/").concat(t),{method:"DELETE",headers:r(e)})).ok)throw Error("Failed to delete project")}static async getProject(e,t){let a=await fetch("".concat(s,"/projects/").concat(t),{headers:r(e)});if(404===a.status)return null;if(!a.ok)throw Error("Failed to fetch project");return(await a.json()).project}static async getTasks(e,t){let a=t?"".concat(s,"/projects/").concat(t,"/tasks"):"".concat(s,"/tasks"),i=await fetch(a,{headers:r(e)});if(!i.ok)throw Error("Failed to fetch tasks");return Object.values((await i.json()).tasks||{})}static async getTask(e,t){let a=await fetch("".concat(s,"/tasks/").concat(t),{headers:r(e)});if(404===a.status)return null;if(!a.ok)throw Error("Failed to fetch task");return(await a.json()).task}static async startTask(e,t){let a=await fetch("".concat(s,"/start-task"),{method:"POST",headers:{"Content-Type":"application/json",...r(e)},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to start task");return await a.json()}static async getTaskStatus(e,t){let a=await fetch("".concat(s,"/task-status/").concat(t),{headers:r(e)});if(!a.ok)throw Error("Failed to fetch task status");return(await a.json()).task}static async addChatMessage(e,t,a){let i=await fetch("".concat(s,"/tasks/").concat(t,"/chat"),{method:"POST",headers:{"Content-Type":"application/json",...r(e)},body:JSON.stringify(a)});if(!i.ok)throw Error("Failed to add chat message");return(await i.json()).task}static async createPullRequest(e,t,a){let i=await fetch("".concat(s,"/create-pr/").concat(t),{method:"POST",headers:{"Content-Type":"application/json",...r(e)},body:JSON.stringify(a)});if(!i.ok)throw Error("Failed to create pull request");return await i.json()}static async validateGitHubToken(e,t){let a=await fetch("".concat(s,"/validate-token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({github_token:e,repo_url:t})});if(!a.ok)throw Error("GitHub token validation failed");return await a.json()}static async getGitDiff(e,t){let a=await fetch("".concat(s,"/git-diff/").concat(t),{headers:r(e)});if(!a.ok)throw Error("Failed to fetch git diff");return(await a.json()).git_diff||""}static parseGitHubUrl(e){let t=e.match(/github\.com\/([^\/]+)\/([^\/]+?)(?:\.git)?(?:\/|$)/);if(!t)throw Error("Invalid GitHub URL");return{owner:t[1],repo:t[2]}}}},8443:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i,i:()=>n});var s=a(7246),r=a(8194);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}function n(e){if(!e)return{additions:0,deletions:0,files:0};let t=e.split("\n"),a=0,s=0,r=new Set;for(let e of t)if(e.startsWith("+++")||e.startsWith("---")){let t=e.substring(4);if("/dev/null"!==t){let e=t.replace(/^[ab]\//,"");r.add(e)}}else e.startsWith("+")&&!e.startsWith("+++")?a++:e.startsWith("-")&&!e.startsWith("---")&&s++;return{additions:a,deletions:s,files:r.size}}},9718:(e,t,a)=>{"use strict";a.d(t,{T:()=>i});var s=a(2311);a(2847);var r=a(8443);function i(e){let{className:t,...a}=e;return(0,s.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...a})}}},e=>{var t=t=>e(e.s=t);e.O(0,[832,614,252,297,139,789,20,358],()=>t(294)),_N_E=e.O()}]);